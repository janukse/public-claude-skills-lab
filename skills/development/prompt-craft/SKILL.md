---
name: prompt-craft
description: COSTAR+ 프레임워크 기반 프롬프트 설계 스킬. Generate/Improve/Evaluate 3가지 모드로 고품질 프롬프트를 생성, 개선, 평가합니다.
argument-hint: "[generate|improve|evaluate] [목적 또는 프롬프트 텍스트] [--target claude|gpt|gemini|general] [-i]"
---

# Prompt Craft

## 목적

COSTAR(Context, Objective, Style, Tone, Audience, Response) 프레임워크에 Few-shot, Chain-of-Thought, Constraints를 확장한 **COSTAR+** 기반으로 프롬프트를 체계적으로 설계합니다.

1. **Generate 모드** — 목적/주제를 입력받아 COSTAR+ 프레임워크 기반 프롬프트를 자동 생성
2. **Improve 모드** — 기존 프롬프트를 COSTAR 요소별로 분석하고 개선안 제시
3. **Evaluate 모드** — 프롬프트 품질을 요소별 점수 + 상세 보고서로 평가

## 모드 선택

| 모드 | 명령 예시 | 설명 |
|------|-----------|------|
| Generate | `/prompt-craft generate 블로그 글 작성 도우미` | 목적에 맞는 새 프롬프트 생성 |
| Generate (대화형) | `/prompt-craft generate 블로그 글 작성 도우미 -i` | COSTAR 각 요소를 질문-응답으로 채워가며 생성 |
| Improve | `/prompt-craft improve "기존 프롬프트 텍스트"` | 기존 프롬프트 분석 후 개선 |
| Evaluate | `/prompt-craft evaluate "프롬프트 텍스트"` | 프롬프트 품질 평가 보고서 출력 |

### 옵션

| 옵션 | 설명 | 기본값 |
|------|------|--------|
| `--target` | 대상 AI 지정 (`claude`, `gpt`, `gemini`, `general`) | `general` |
| `-i`, `--interactive` | 대화형 모드 강제 활성화 | off |

---

## COSTAR+ 프레임워크

### 핵심 요소 (COSTAR)

| 요소 | 영문 | 설명 | Interactive 질문 |
|------|------|------|------------------|
| **C** | Context | 배경 정보, 상황, 전제 조건 | "어떤 상황/맥락에서 이 프롬프트를 사용하나요?" |
| **O** | Objective | AI가 수행할 구체적 목표 | "AI가 정확히 무엇을 해주길 원하나요?" |
| **S** | Style | 글쓰기/응답 스타일 | "어떤 스타일을 원하나요? (학술적, 대화체, 기술 문서 등)" |
| **T** | Tone | 어조, 감정적 뉘앙스 | "어떤 톤을 원하나요? (친근, 전문적, 유머러스 등)" |
| **A** | Audience | 대상 독자/사용자 | "응답을 받을 대상은 누구인가요?" |
| **R** | Response | 응답 형식, 길이, 구조 | "어떤 형식의 응답을 원하나요? (목록, 에세이, JSON 등)" |

### 확장 요소

| 요소 | 설명 | Interactive 질문 |
|------|------|------------------|
| **Examples** | Few-shot 입출력 예시 | "입출력 예시를 제공할 수 있나요? (없으면 건너뛰기)" |
| **Thinking** | Chain-of-Thought 사고 과정 지시 | "단계별 사고 과정(추론 과정)을 포함할까요?" |
| **Constraints** | 제약 조건, 금지 사항, 경계 | "반드시 지키거나 피해야 할 사항이 있나요?" |

---

## [Generate 모드] 프롬프트 생성 워크플로우

### Step 1: 입력 분석

인수로 전달된 목적/주제를 분석합니다.

- **목적 키워드 추출**: 핵심 동작(생성, 분석, 변환, 요약 등)과 대상 식별
- **도메인 판별**: 코드, 콘텐츠, 비즈니스, 교육 등
- **대상 AI 확인**: `--target` 옵션 또는 기본값 `general`
- **모드 확인**: `-i` 플래그 존재 시 Interactive 모드로 전환 → Step 2로 이동, 없으면 Step 3으로 이동

### Step 2: Interactive 요소 수집 (대화형 모드)

`-i` 플래그가 있거나 목적이 모호한 경우, AskUserQuestion 도구를 사용하여 COSTAR+ 각 요소를 순차적으로 수집합니다.

**수집 순서:**
1. **Context + Objective** — 배경과 목표를 먼저 확인 (핵심)
2. **Audience + Response** — 대상과 형식 확인 (구조)
3. **Style + Tone** — 스타일과 톤 확인 (뉘앙스)
4. **Extensions** — Few-shot, CoT, Constraints 필요 여부 확인 (확장)

각 단계에서 AskUserQuestion의 options를 활용하여 선택지를 제시하되, 사용자가 자유롭게 입력할 수 있도록 합니다.

### Step 3: COSTAR+ 요소 설계

수집된 정보(또는 목적 분석 결과)를 바탕으로 각 요소를 설계합니다.

**각 요소별 설계 원칙:**

| 요소 | 설계 원칙 |
|------|-----------|
| Context | 구체적 상황 서술, 모호한 전제 제거 |
| Objective | 하나의 명확한 동작 동사로 시작, 측정 가능한 결과 명시 |
| Style | 도메인에 적합한 스타일 선택, 참조 모델 제시 |
| Tone | Audience에 부합하는 톤 선택, 감정 스펙트럼 명시 |
| Audience | 지식 수준, 기대치, 배경 구체화 |
| Response | 형식(마크다운, JSON, 코드 등), 길이, 구조 명시 |
| Examples | 1-3개의 대표적 입출력 쌍 (해당 시) |
| Thinking | 사고 단계 구조화 (해당 시) |
| Constraints | 금지 사항, 경계 조건, 품질 기준 명시 |

### Step 4: 대상 AI 최적화

`--target`에 따라 프롬프트 구조를 최적화합니다.

| 대상 AI | 최적화 전략 |
|---------|-------------|
| `claude` | XML 태그 구조 활용, 시스템 프롬프트와 사용자 프롬프트 분리 제안, `<thinking>` 태그 활용 |
| `gpt` | System/User 메시지 분리, 명확한 지시문 구조, JSON mode 활용 제안 |
| `gemini` | 구조화된 프롬프트, 멀티모달 컨텍스트 활용 제안 |
| `general` | 플랫폼 독립적 구조, 마크다운 기반 포맷팅 |

### Step 5: 결과 출력

다음 형식으로 출력합니다:

```markdown
## Prompt Craft — Generate 결과

### COSTAR+ 분석

| 요소 | 설계 내용 |
|------|-----------|
| Context | <배경 설명> |
| Objective | <목표 설명> |
| Style | <스타일 설명> |
| Tone | <톤 설명> |
| Audience | <대상 설명> |
| Response | <응답 형식 설명> |
| Examples | <예시 유무 및 설명> |
| Thinking | <CoT 적용 여부 및 설명> |
| Constraints | <제약 조건 설명> |

### 대상 AI

<대상 AI 및 최적화 요약>

### 완성 프롬프트

\```
<복사 가능한 완성 프롬프트>
\```

### 사용 팁

- <대상 AI에 맞는 사용 팁 1>
- <대상 AI에 맞는 사용 팁 2>
```

---

## [Improve 모드] 프롬프트 개선 워크플로우

### Step 1: 기존 프롬프트 분석

입력된 프롬프트를 COSTAR+ 각 요소 관점에서 분석합니다.

**분석 기준:**
- 각 요소의 **존재 여부** (명시적으로 포함되어 있는가?)
- 각 요소의 **명확성** (모호하지 않은가?)
- 각 요소의 **구체성** (충분히 상세한가?)
- 요소 간 **일관성** (서로 충돌하지 않는가?)

### Step 2: 약점 식별

각 요소에 대해 다음을 판별합니다:

| 상태 | 의미 |
|------|------|
| **Missing** | 요소가 완전히 누락됨 |
| **Weak** | 요소가 있으나 모호하거나 불충분함 |
| **Good** | 요소가 명확하고 적절함 |
| **Strong** | 요소가 매우 구체적이고 효과적임 |

### Step 3: 개선안 생성

약점이 있는 요소에 대해 구체적 개선안을 작성합니다.

- Missing 요소: 새로 추가할 내용 제안
- Weak 요소: 기존 표현을 유지하면서 강화
- 확장 요소(Examples, Thinking, Constraints) 추가 필요성 판단

### Step 4: 대상 AI 최적화

`--target` 옵션이 지정된 경우, 해당 AI에 맞게 구조를 추가 최적화합니다.

### Step 5: 결과 출력

```markdown
## Prompt Craft — Improve 결과

### 원본 프롬프트

\```
<원본 프롬프트>
\```

### COSTAR+ 요소 분석

| 요소 | 상태 | 원본 내용 | 개선 제안 |
|------|------|-----------|-----------|
| Context | Missing/Weak/Good/Strong | <원본에서 해당 부분> | <개선 제안> |
| Objective | ... | ... | ... |
| Style | ... | ... | ... |
| Tone | ... | ... | ... |
| Audience | ... | ... | ... |
| Response | ... | ... | ... |
| Examples | ... | ... | ... |
| Thinking | ... | ... | ... |
| Constraints | ... | ... | ... |

### 핵심 개선 포인트

1. <가장 중요한 개선 사항>
2. <두 번째 개선 사항>
3. ...

### 개선된 프롬프트

\```
<개선된 완성 프롬프트>
\```
```

---

## [Evaluate 모드] 프롬프트 평가 워크플로우

### Step 1: 요소별 채점

입력된 프롬프트를 COSTAR+ 각 요소별로 1-10점 채점합니다.

**채점 기준:**

| 점수 | 수준 | 기준 |
|------|------|------|
| 9-10 | Excellent | 매우 구체적, 모호함 없음, 최적의 표현 |
| 7-8 | Good | 명확하고 적절하나 일부 개선 여지 |
| 5-6 | Fair | 기본적 내용은 있으나 모호하거나 불충분 |
| 3-4 | Weak | 존재하나 매우 불충분하거나 부적절 |
| 1-2 | Poor | 거의 없거나 완전히 누락 |

### Step 2: 전체 등급 산정

요소별 점수의 가중 평균으로 전체 등급을 산정합니다.

**가중치:**
- Context: 15%, Objective: 25%, Style: 10%, Tone: 10%, Audience: 15%, Response: 15%
- Extensions (Examples + Thinking + Constraints): 10%

**등급 기준:**

| 등급 | 점수 범위 | 의미 |
|------|-----------|------|
| **S** | 9.0-10.0 | 프로덕션 레벨, 즉시 사용 가능 |
| **A** | 7.5-8.9 | 우수, 소폭 개선으로 최적화 가능 |
| **B** | 6.0-7.4 | 양호, 일부 요소 보강 필요 |
| **C** | 4.0-5.9 | 보통, 다수 요소 개선 필요 |
| **D** | 1.0-3.9 | 미흡, 전면 재설계 권장 |

### Step 3: 개선 제안 생성

점수가 낮은 요소(7점 미만)에 대해 구체적 개선 방안을 작성합니다.

### Step 4: 개선 버전 생성

제안을 반영한 개선 프롬프트를 생성합니다.

### Step 5: 결과 출력

```markdown
## Prompt Craft — Evaluate 보고서

### 대상 프롬프트

\```
<평가 대상 프롬프트>
\```

### 요소별 평가

| 요소 | 점수 | 수준 | 평가 코멘트 |
|------|------|------|-------------|
| Context | /10 | | <코멘트> |
| Objective | /10 | | <코멘트> |
| Style | /10 | | <코멘트> |
| Tone | /10 | | <코멘트> |
| Audience | /10 | | <코멘트> |
| Response | /10 | | <코멘트> |
| Examples | /10 | | <코멘트> |
| Thinking | /10 | | <코멘트> |
| Constraints | /10 | | <코멘트> |

### 전체 평가

| 항목 | 값 |
|------|-----|
| **가중 평균 점수** | <X.X>/10 |
| **전체 등급** | **<S/A/B/C/D>** |
| **강점 요소** | <높은 점수 요소 나열> |
| **약점 요소** | <낮은 점수 요소 나열> |

### 개선 제안

| 우선순위 | 요소 | 현재 점수 | 제안 |
|----------|------|-----------|------|
| 1 | <요소> | <점수> | <구체적 개선 방안> |
| 2 | <요소> | <점수> | <구체적 개선 방안> |

### 개선된 프롬프트

\```
<제안을 반영한 개선 버전>
\```
```

---

## 출력 언어 규칙

- 사용자의 입력 언어를 자동 감지합니다.
- **분석, 보고서, 설명**: 입력 언어와 동일한 언어로 출력합니다.
- **완성 프롬프트**: 입력 언어와 동일한 언어로 작성합니다.
- COSTAR 요소 라벨(Context, Objective 등)은 항상 영문을 유지합니다.

---

## 예외사항

다음은 **스킬 범위 밖**입니다:

1. **프롬프트 실행** — 이 스킬은 프롬프트를 설계만 하며, 생성된 프롬프트를 직접 실행하지 않습니다
2. **AI 모델 비교/벤치마크** — 특정 AI 모델의 성능을 비교하거나 벤치마크하지 않습니다
3. **프롬프트 인젝션 생성** — 보안을 우회하거나 악의적 목적의 프롬프트는 생성하지 않습니다
4. **인수 없이 호출** — 모드와 목적/프롬프트 텍스트가 모두 필요합니다

## Related Files

| File | Purpose |
|------|---------|
| `skills/development/prompt-craft/SKILL.md` | 이 스킬 정의 파일 |
